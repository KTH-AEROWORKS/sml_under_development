
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>plot_in_matlab</title><meta name="generator" content="MATLAB 8.5"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2016-03-23"><meta name="DC.source" content="plot_in_matlab.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h2>Contents</h2><div><ul><li><a href="#1">Useful operations</a></li><li><a href="#2">include functions</a></li><li><a href="#4">set some definitions</a></li></ul></div><h2>Useful operations<a name="1"></a></h2><pre class="codeinput"><span class="comment">% restoredefaultpath; matlabrc</span>
<span class="comment">% close all</span>
<span class="comment">% clear all</span>
clc
</pre><h2>include functions<a name="2"></a></h2><pre class="codeinput">addpath(genpath(<span class="string">'./functions'</span>))
</pre><pre class="codeinput">disp(<span class="string">'testing'</span>)
<span class="comment">% disp(filename)</span>
format <span class="string">long</span>
<span class="comment">% M          = dlmread('_1458747408_test_plot_1.txt');</span>
M          = dlmread(file_name);
time       = M(:,1);
state      = M(:,3:11);
stated     = M(:,12:20);
input_quad = M(:,21:23);
</pre><pre class="codeoutput">testing
</pre><h2>set some definitions<a name="4"></a></h2><pre class="codeinput">set(0,<span class="string">'DefaultTextInterpreter'</span>,<span class="string">'latex'</span>,<span class="keyword">...</span>
      <span class="string">'DefaultLineLineWidth'</span>,1,<span class="keyword">...</span>
      <span class="string">'defaulttextfontsize'</span>,12,<span class="keyword">...</span>
      <span class="string">'defaultaxesfontsize'</span>,12);
</pre><pre class="codeinput">clc
close <span class="string">all</span>

<span class="comment">% remove offset from time instants (so it starts at zero)</span>
time = time - time(1);
tEND = time(end);

<span class="comment">% position and velocity of quad</span>
pQ  = state(:,1:3);
vQ  = state(:,4:6);
<span class="comment">% quarotor euler angles</span>
eeQ = state(:,7:9)*pi/180;

<span class="comment">% desired position, velocity and acceleration of quad</span>
pd = stated(:,1:3);
vd = stated(:,4:6);
<span class="comment">% ad = stated(:,7:9);</span>


hold <span class="string">on</span>
plot3(pQ(:,1) ,pQ(:,2) ,pQ(:,3) ,<span class="string">'Color'</span>,<span class="string">'k'</span>,<span class="string">'Linewidth'</span>,2)
plot3(pd(:,1),pd(:,2),pd(:,3),<span class="string">'Color'</span>,[0.3 0.3 0.3],<span class="string">'Linewidth'</span>,1)

num = 4;
II = zeros(num+1,1);
<span class="keyword">for</span> i = 0:1:num
    [minmin, index] = min(abs(time-tEND*i/num));
    II(i+1) = index;
<span class="keyword">end</span>


<span class="keyword">for</span> j=1:num+1
    pQ_  = pQ(II(j),:)';
    eeQ_ = eeQ(II(j),:)';
    rot_mat_ = rot_matrix(eeQ_);

    quad_plot(pQ_,rot_mat_,1,[],0.1,0.1)

<span class="keyword">end</span>

xlabel(<span class="string">'x (m)'</span>)
ylabel(<span class="string">'y (m)'</span>)
zlabel(<span class="string">'z (m)'</span>)

<span class="comment">% axis equal</span>
axis <span class="string">tight</span>

view(56,16)
</pre><img vspace="5" hspace="5" src="plot_in_matlab_01.png" alt=""> <pre class="codeinput"><span class="comment">% %%</span>
<span class="comment">% close all</span>
<span class="comment">%</span>
<span class="comment">% t = time - time(1);</span>
<span class="comment">% tEND = t(end);</span>
<span class="comment">%</span>
<span class="comment">% p    = state(:,1:3);</span>
<span class="comment">% pdes = stated(:,1:3);</span>
<span class="comment">%</span>
<span class="comment">% auxaux = 1:length(t);</span>
<span class="comment">% t_aux    = ~mod(auxaux,1);</span>
<span class="comment">%</span>
<span class="comment">% hold on</span>
<span class="comment">%</span>
<span class="comment">% plot(t(t_aux),p(t_aux,1)-pdes(t_aux,1),'-','Color','k')</span>
<span class="comment">% plot(t(t_aux),p(t_aux,2)-pdes(t_aux,2),'--','Color','k')</span>
<span class="comment">% plot(t(t_aux),p(t_aux,3)-pdes(t_aux,3),'-.','Color','k')</span>
<span class="comment">% plot(t(t_aux),sqrt((p(t_aux,1)-pdes(t_aux,1)).^2 + (p(t_aux,2)-pdes(t_aux,2)).^2 + (p(t_aux,3)-pdes(t_aux,3)).^2),'-.','Color','k')</span>
<span class="comment">%</span>
<span class="comment">% xlabel('Time (s)')</span>
<span class="comment">% ylabel('(m)')</span>
<span class="comment">%</span>
<span class="comment">% l = legend('$\mathbf{p}_1$',...</span>
<span class="comment">%            '$\mathbf{p}_2$',...</span>
<span class="comment">%            '$\mathbf{p}_3$',...</span>
<span class="comment">%            '$error$');</span>
<span class="comment">% set(l,'Interpreter','latex')</span>
<span class="comment">%</span>
<span class="comment">% grid on</span>
<span class="comment">%</span>
<span class="comment">% %%</span>
<span class="comment">% close all</span>
<span class="comment">%</span>
<span class="comment">% t = time - time(1);</span>
<span class="comment">% tEND = t(end);</span>
<span class="comment">%</span>
<span class="comment">% v    = state(:,4:6);</span>
<span class="comment">% vdes = stated(:,4:6);</span>
<span class="comment">%</span>
<span class="comment">% auxaux = 1:length(t);</span>
<span class="comment">% t_aux    = ~mod(auxaux,1);</span>
<span class="comment">%</span>
<span class="comment">% hold on</span>
<span class="comment">%</span>
<span class="comment">% plot(t(t_aux),v(t_aux,1)-vdes(t_aux,1),'-','Color','k')</span>
<span class="comment">% plot(t(t_aux),v(t_aux,2)-vdes(t_aux,2),'--','Color','k')</span>
<span class="comment">% plot(t(t_aux),v(t_aux,3)-vdes(t_aux,3),'-.','Color','k')</span>
<span class="comment">%</span>
<span class="comment">% xlabel('Time (s)')</span>
<span class="comment">% ylabel('(m/s)')</span>
<span class="comment">%</span>
<span class="comment">% l = legend('$\mathbf{v}_1$',...</span>
<span class="comment">%            '$\mathbf{v}_2$',...</span>
<span class="comment">%            '$\mathbf{v}_3$');</span>
<span class="comment">% set(l,'Interpreter','latex')</span>
<span class="comment">%</span>
<span class="comment">% grid on</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% %%</span>
<span class="comment">% close all</span>
<span class="comment">%</span>
<span class="comment">% t = time - time(1);</span>
<span class="comment">% tEND = t(end);</span>
<span class="comment">%</span>
<span class="comment">% auxaux = 1:length(t);</span>
<span class="comment">% t_aux    = ~mod(auxaux,1);</span>
<span class="comment">%</span>
<span class="comment">% g_quad = 9.81;</span>
<span class="comment">%</span>
<span class="comment">% nn = [];</span>
<span class="comment">% for i= 1:length(stated(:,7:9))</span>
<span class="comment">%     pp   = pQ(i,:)';</span>
<span class="comment">%     pp2  = pM(i,:)';</span>
<span class="comment">%</span>
<span class="comment">%     n   = (pp - pp2)/norm(pp - pp2);</span>
<span class="comment">%</span>
<span class="comment">%     nn = [nn; n'];</span>
<span class="comment">% end</span>
<span class="comment">%</span>
<span class="comment">% n_des = [];</span>
<span class="comment">% for i= 1:length(stated(:,7:9))</span>
<span class="comment">%     ades   = stated(i,7:9);</span>
<span class="comment">%     n = (g_quad*[0;0;1] + ades')/norm(g_quad*[0;0;1] + ades');</span>
<span class="comment">%</span>
<span class="comment">%     n_des = [n_des; n'];</span>
<span class="comment">% end</span>
<span class="comment">%</span>
<span class="comment">% hold on</span>
<span class="comment">%</span>
<span class="comment">% plot(t(t_aux),nn(t_aux,1),'-','Color','k')</span>
<span class="comment">% plot(t(t_aux),n_des(t_aux,1),'-','Color',[0.5 0.5 0.5])</span>
<span class="comment">%</span>
<span class="comment">% plot(t(t_aux),nn(t_aux,2),'--','Color','k')</span>
<span class="comment">% plot(t(t_aux),n_des(t_aux,2),'--','Color',[0.5 0.5 0.5])</span>
<span class="comment">%</span>
<span class="comment">% plot(t(t_aux),nn(t_aux,3),'-.','Color','k')</span>
<span class="comment">% plot(t(t_aux),n_des(t_aux,3),'-.','Color',[0.5 0.5 0.5])</span>
<span class="comment">%</span>
<span class="comment">% xlabel('Time (s)')</span>
<span class="comment">%</span>
<span class="comment">% l = legend('$\mathbf{n}_1$',...</span>
<span class="comment">%            '$\mathbf{n}_{1,t}^{\star}$',...</span>
<span class="comment">%            '$\mathbf{n}_2$',...</span>
<span class="comment">%            '$\mathbf{n}_{2,t}^{\star}$',...</span>
<span class="comment">%            '$\mathbf{n}_3$',...</span>
<span class="comment">%            '$\mathbf{n}_{3,t}^{\star}$');</span>
<span class="comment">% set(l,'Interpreter','latex')</span>
<span class="comment">%</span>
<span class="comment">% grid on</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% %%</span>
<span class="comment">%</span>
<span class="comment">% close all</span>
<span class="comment">%</span>
<span class="comment">% t = time - time(1);</span>
<span class="comment">% tEND = t(end);</span>
<span class="comment">%</span>
<span class="comment">% w = [];</span>
<span class="comment">% for i= 1:length(stated(:,7:9))</span>
<span class="comment">%     pp   = pQ(i,:)';</span>
<span class="comment">%     pp2  = pM(i,:)';</span>
<span class="comment">%</span>
<span class="comment">%     vv   = vQ(i,:)';</span>
<span class="comment">%     vv2  = vM(i,:)';</span>
<span class="comment">%</span>
<span class="comment">%     n   = (pp - pp2)/norm(pp - pp2);</span>
<span class="comment">%</span>
<span class="comment">%     ww   = skew(n)*(vv - vv2)/norm(pp - pp2);</span>
<span class="comment">%</span>
<span class="comment">%     w = [w; ww'];</span>
<span class="comment">% end</span>
<span class="comment">%</span>
<span class="comment">% w_des = [];</span>
<span class="comment">% for i= 1:length(stated(:,7:9))</span>
<span class="comment">%     ades   = stated(i,7:9)';</span>
<span class="comment">%     n_des  = (g_quad*[0;0;1] + ades)/norm(g_quad*[0;0;1] + ades);</span>
<span class="comment">%</span>
<span class="comment">%     jdes = stated(i,10:12)';</span>
<span class="comment">%     w_eq = skew(n_des)*jdes/norm(g_quad*[0;0;1] - ades);</span>
<span class="comment">%</span>
<span class="comment">%     w_des = [w_des; w_eq'];</span>
<span class="comment">% end</span>
<span class="comment">%</span>
<span class="comment">% auxaux = 1:length(t);</span>
<span class="comment">% t_aux    = ~mod(auxaux,1);</span>
<span class="comment">%</span>
<span class="comment">% hold on</span>
<span class="comment">%</span>
<span class="comment">% % plot(t(t_aux),w(t_aux,1),'-','Color','k')</span>
<span class="comment">% % plot(t(t_aux),w_des(t_aux,1),'-','Color',[0.5 0.5 0.5])</span>
<span class="comment">%</span>
<span class="comment">% plot(t(t_aux),w(t_aux,2),'--','Color','k')</span>
<span class="comment">% plot(t(t_aux),w_des(t_aux,2),'--','Color',[0.5 0.5 0.5])</span>
<span class="comment">%</span>
<span class="comment">% % plot(t(t_aux),w(t_aux,3),'-.','Color','k')</span>
<span class="comment">% % plot(t(t_aux),w_des(t_aux,3),'-.','Color',[0.5 0.5 0.5])</span>
<span class="comment">%</span>
<span class="comment">% xlabel('Time (s)')</span>
<span class="comment">% ylabel('(rad/s)')</span>
<span class="comment">%</span>
<span class="comment">% l = legend('$\omega_1$',...</span>
<span class="comment">%            '$\omega_{1,t}^{\star}$',...</span>
<span class="comment">%            '$\omega_2$',...</span>
<span class="comment">%            '$\omega_{2,t}^{\star}$',...</span>
<span class="comment">%            '$\omega_3$',...</span>
<span class="comment">%            '$\omega_{3,t}^{\star}$');</span>
<span class="comment">%</span>
<span class="comment">% set(l,'Interpreter','latex')</span>
<span class="comment">%</span>
<span class="comment">% grid on</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">% %%</span>
<span class="comment">% close all</span>
<span class="comment">%</span>
<span class="comment">% t = time - time(1);</span>
<span class="comment">% tEND = t(end);</span>
<span class="comment">%</span>
<span class="comment">% u  = input_quad;</span>
<span class="comment">%</span>
<span class="comment">% auxaux = 1:length(t);</span>
<span class="comment">% t_aux    = ~mod(auxaux,1);</span>
<span class="comment">%</span>
<span class="comment">% t_aux = t &lt;= tEND + 0.1;</span>
<span class="comment">%</span>
<span class="comment">% hold on</span>
<span class="comment">%</span>
<span class="comment">% plot(t(t_aux),0.1*u(t_aux,1),'-','Color','k')</span>
<span class="comment">% plot(t(t_aux),u(t_aux,2),'--','Color','k')</span>
<span class="comment">% plot(t(t_aux),u(t_aux,3),'-.','Color','k')</span>
<span class="comment">%</span>
<span class="comment">% xlabel('Time (s)')</span>
<span class="comment">% % ylabel('Input')</span>
<span class="comment">%</span>
<span class="comment">% xlim([0 tFINAL])</span>
<span class="comment">%</span>
<span class="comment">% l = legend('$U_1$',...</span>
<span class="comment">%            '$U_2$',...</span>
<span class="comment">%            '$U_3$');</span>
<span class="comment">%</span>
<span class="comment">% set(l,'Interpreter','latex')</span>
<span class="comment">%</span>
<span class="comment">% grid on</span>
</pre><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2015a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Useful operations

% restoredefaultpath; matlabrc
% close all
% clear all
clc

%% include functions
addpath(genpath('./functions'))

%%
disp('testing')
% disp(filename)
format long
% M          = dlmread('_1458747408_test_plot_1.txt');
M          = dlmread(file_name);
time       = M(:,1);
state      = M(:,3:11);
stated     = M(:,12:20);
input_quad = M(:,21:23);

%% set some definitions
set(0,'DefaultTextInterpreter','latex',...
      'DefaultLineLineWidth',1,...
      'defaulttextfontsize',12,...
      'defaultaxesfontsize',12);

%%
clc
close all

% remove offset from time instants (so it starts at zero)
time = time - time(1);
tEND = time(end);

% position and velocity of quad
pQ  = state(:,1:3);
vQ  = state(:,4:6);
% quarotor euler angles
eeQ = state(:,7:9)*pi/180;

% desired position, velocity and acceleration of quad
pd = stated(:,1:3);
vd = stated(:,4:6);
% ad = stated(:,7:9);


hold on
plot3(pQ(:,1) ,pQ(:,2) ,pQ(:,3) ,'Color','k','Linewidth',2)
plot3(pd(:,1),pd(:,2),pd(:,3),'Color',[0.3 0.3 0.3],'Linewidth',1)

num = 4;
II = zeros(num+1,1);
for i = 0:1:num
    [minmin, index] = min(abs(time-tEND*i/num));
    II(i+1) = index;
end


for j=1:num+1
    pQ_  = pQ(II(j),:)';   
    eeQ_ = eeQ(II(j),:)';
    rot_mat_ = rot_matrix(eeQ_);

    quad_plot(pQ_,rot_mat_,1,[],0.1,0.1)
    
end

xlabel('x (m)')
ylabel('y (m)')
zlabel('z (m)')

% axis equal
axis tight

view(56,16)

%%

% %%
% close all
% 
% t = time - time(1);
% tEND = t(end);
% 
% p    = state(:,1:3);
% pdes = stated(:,1:3);
% 
% auxaux = 1:length(t);
% t_aux    = ~mod(auxaux,1);
% 
% hold on
% 
% plot(t(t_aux),p(t_aux,1)-pdes(t_aux,1),'-','Color','k')
% plot(t(t_aux),p(t_aux,2)-pdes(t_aux,2),'REPLACE_WITH_DASH_DASH','Color','k')
% plot(t(t_aux),p(t_aux,3)-pdes(t_aux,3),'-.','Color','k')
% plot(t(t_aux),sqrt((p(t_aux,1)-pdes(t_aux,1)).^2 + (p(t_aux,2)-pdes(t_aux,2)).^2 + (p(t_aux,3)-pdes(t_aux,3)).^2),'-.','Color','k')
% 
% xlabel('Time (s)')
% ylabel('(m)')
% 
% l = legend('$\mathbf{p}_1$',...
%            '$\mathbf{p}_2$',...
%            '$\mathbf{p}_3$',...
%            '$error$');
% set(l,'Interpreter','latex')
% 
% grid on
% 
% %%
% close all
% 
% t = time - time(1);
% tEND = t(end);
% 
% v    = state(:,4:6);
% vdes = stated(:,4:6);
% 
% auxaux = 1:length(t);
% t_aux    = ~mod(auxaux,1);
% 
% hold on
% 
% plot(t(t_aux),v(t_aux,1)-vdes(t_aux,1),'-','Color','k')
% plot(t(t_aux),v(t_aux,2)-vdes(t_aux,2),'REPLACE_WITH_DASH_DASH','Color','k')
% plot(t(t_aux),v(t_aux,3)-vdes(t_aux,3),'-.','Color','k')
% 
% xlabel('Time (s)')
% ylabel('(m/s)')
% 
% l = legend('$\mathbf{v}_1$',...
%            '$\mathbf{v}_2$',...
%            '$\mathbf{v}_3$');
% set(l,'Interpreter','latex')
% 
% grid on
% 
% 
% %%
% close all
% 
% t = time - time(1);
% tEND = t(end);
% 
% auxaux = 1:length(t);
% t_aux    = ~mod(auxaux,1);
% 
% g_quad = 9.81;
% 
% nn = [];
% for i= 1:length(stated(:,7:9))
%     pp   = pQ(i,:)';
%     pp2  = pM(i,:)';
% 
%     n   = (pp - pp2)/norm(pp - pp2);
% 
%     nn = [nn; n'];  
% end
% 
% n_des = [];
% for i= 1:length(stated(:,7:9))
%     ades   = stated(i,7:9);
%     n = (g_quad*[0;0;1] + ades')/norm(g_quad*[0;0;1] + ades');  
% 
%     n_des = [n_des; n'];  
% end
% 
% hold on
% 
% plot(t(t_aux),nn(t_aux,1),'-','Color','k')
% plot(t(t_aux),n_des(t_aux,1),'-','Color',[0.5 0.5 0.5])
% 
% plot(t(t_aux),nn(t_aux,2),'REPLACE_WITH_DASH_DASH','Color','k')
% plot(t(t_aux),n_des(t_aux,2),'REPLACE_WITH_DASH_DASH','Color',[0.5 0.5 0.5])
% 
% plot(t(t_aux),nn(t_aux,3),'-.','Color','k')
% plot(t(t_aux),n_des(t_aux,3),'-.','Color',[0.5 0.5 0.5])
% 
% xlabel('Time (s)')
% 
% l = legend('$\mathbf{n}_1$',...
%            '$\mathbf{n}_{1,t}^{\star}$',...
%            '$\mathbf{n}_2$',...
%            '$\mathbf{n}_{2,t}^{\star}$',...
%            '$\mathbf{n}_3$',...
%            '$\mathbf{n}_{3,t}^{\star}$');
% set(l,'Interpreter','latex')
% 
% grid on
% 
% 
% %%
% 
% close all
% 
% t = time - time(1);
% tEND = t(end);
% 
% w = [];
% for i= 1:length(stated(:,7:9))
%     pp   = pQ(i,:)';
%     pp2  = pM(i,:)';
%     
%     vv   = vQ(i,:)';
%     vv2  = vM(i,:)';
%         
%     n   = (pp - pp2)/norm(pp - pp2);
% 
%     ww   = skew(n)*(vv - vv2)/norm(pp - pp2);
%     
%     w = [w; ww'];  
% end
% 
% w_des = [];
% for i= 1:length(stated(:,7:9))
%     ades   = stated(i,7:9)';
%     n_des  = (g_quad*[0;0;1] + ades)/norm(g_quad*[0;0;1] + ades);  
% 
%     jdes = stated(i,10:12)';
%     w_eq = skew(n_des)*jdes/norm(g_quad*[0;0;1] - ades);    
%     
%     w_des = [w_des; w_eq'];  
% end
% 
% auxaux = 1:length(t);
% t_aux    = ~mod(auxaux,1);
% 
% hold on
% 
% % plot(t(t_aux),w(t_aux,1),'-','Color','k')
% % plot(t(t_aux),w_des(t_aux,1),'-','Color',[0.5 0.5 0.5])
% 
% plot(t(t_aux),w(t_aux,2),'REPLACE_WITH_DASH_DASH','Color','k')
% plot(t(t_aux),w_des(t_aux,2),'REPLACE_WITH_DASH_DASH','Color',[0.5 0.5 0.5])
%  
% % plot(t(t_aux),w(t_aux,3),'-.','Color','k')
% % plot(t(t_aux),w_des(t_aux,3),'-.','Color',[0.5 0.5 0.5])
% 
% xlabel('Time (s)')
% ylabel('(rad/s)')
% 
% l = legend('$\omega_1$',...
%            '$\omega_{1,t}^{\star}$',...
%            '$\omega_2$',...
%            '$\omega_{2,t}^{\star}$',...
%            '$\omega_3$',...
%            '$\omega_{3,t}^{\star}$');
%        
% set(l,'Interpreter','latex')
% 
% grid on
% 
% 
% %%
% close all
% 
% t = time - time(1);
% tEND = t(end);
% 
% u  = input_quad;
% 
% auxaux = 1:length(t);
% t_aux    = ~mod(auxaux,1);
% 
% t_aux = t <= tEND + 0.1;
% 
% hold on
% 
% plot(t(t_aux),0.1*u(t_aux,1),'-','Color','k')
% plot(t(t_aux),u(t_aux,2),'REPLACE_WITH_DASH_DASH','Color','k')
% plot(t(t_aux),u(t_aux,3),'-.','Color','k')
% 
% xlabel('Time (s)')
% % ylabel('Input')
% 
% xlim([0 tFINAL])
% 
% l = legend('$U_1$',...
%            '$U_2$',...
%            '$U_3$');
%        
% set(l,'Interpreter','latex')
% 
% grid on

##### SOURCE END #####
--></body></html>